pkgname=heroic-games-launcher
version=2.18.1
revision=1
archs="x86_64"
hostmakedepends="rpmextract tar"
depends="which"
short_desc="An open-source launcher for Epic, Amazon and GOG Games"
maintainer="Eren Öztürk <erenozturkhde@gmail.com>"
license="GPL-3.0-or-later"
_filename="Heroic-${version}-linux-x86_64.rpm"
homepage="https://heroicgameslauncher.com/"
options="!strip nopie"

nopie_files="
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/gogdl
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/legendary
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/nile

"

distfiles="https://github.com/Heroic-Games-Launcher/HeroicGamesLauncher/releases/download/v${version}/${_filename}"
checksum=26e72c5473a733314412d508b82cdd9ed1f904b676441d67d90f10565e03fc62

do_install() {
    vcopy usr .
    vcopy opt .
    vmkdir "/usr/bin"
    ln -s /opt/Heroic/heroic "$DESTDIR/usr/bin/heroic"
}
